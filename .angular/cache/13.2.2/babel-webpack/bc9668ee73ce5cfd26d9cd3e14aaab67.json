{"ast":null,"code":"// Components\nimport { BookFormDialogComponent } from '../book-form-dialog/book-form-dialog.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"src/app/services/book-service/book.service\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/table\";\nimport * as i5 from \"@angular/material/icon\";\n\nfunction BookComponent_th_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Nombre \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r18.name, \" \");\n  }\n}\n\nfunction BookComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Editorial \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r19.editorial, \" \");\n  }\n}\n\nfunction BookComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Autor \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r20 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r20.author, \"\");\n  }\n}\n\nfunction BookComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" G\\u00E9nero \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r21.genre, \" \");\n  }\n}\n\nfunction BookComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Estado de Conservaci\\u00F3n \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r22.conservation_status_id, \" \");\n  }\n}\n\nfunction BookComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1, \" Estado \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const book_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", book_r23.state_id, \" \");\n  }\n}\n\nfunction BookComponent_th_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 15);\n  }\n}\n\nfunction BookComponent_td_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵelementStart(1, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function BookComponent_td_26_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r26);\n      const book_r24 = restoredCtx.$implicit;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.openBookFormDialog(book_r24);\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"create\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_th_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"th\", 15);\n  }\n}\n\nfunction BookComponent_td_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵelementStart(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function BookComponent_td_29_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const book_r27 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.openBookFormDialog(book_r27);\n    });\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookComponent_tr_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 19);\n  }\n}\n\nfunction BookComponent_tr_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 20);\n  }\n}\n\nexport let BookComponent = /*#__PURE__*/(() => {\n  class BookComponent {\n    constructor(dialog, bookService) {\n      this.dialog = dialog;\n      this.bookService = bookService;\n      this.columnsToDisplay = ['name', 'editorial', 'author', 'genre', 'conservation_status_id', 'state_id', 'edit_action', 'delete_action'];\n      this.books = [];\n    }\n\n    ngOnInit() {\n      this.getBooks();\n    }\n\n    getBooks() {\n      this.bookService.get().subscribe(response => {\n        this.books = response['data'];\n        console.log(this.books);\n      }, error => {\n        console.error(error);\n      });\n    }\n\n    openBookFormDialog(book) {\n      const dialogRef = this.dialog.open(BookFormDialogComponent, {\n        data: book\n      });\n      /*\r\n      dialogRef.afterClosed().subscribe(result => {\r\n        console.log('DIALOG WAS CLOSED!');\r\n      });*/\n    }\n\n  }\n\n  BookComponent.ɵfac = function BookComponent_Factory(t) {\n    return new (t || BookComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.BookService));\n  };\n\n  BookComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BookComponent,\n    selectors: [[\"app-book\"]],\n    decls: 32,\n    vars: 3,\n    consts: [[\"mat-button\", \"\", \"color\", \"primary\", 3, \"click\"], [1, \"example-container\", \"mat-elevation-z8\"], [\"mat-table\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"name\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"editorial\"], [\"matColumnDef\", \"author\"], [\"matColumnDef\", \"genre\"], [\"matColumnDef\", \"conservation_status_id\"], [\"matColumnDef\", \"state_id\"], [\"matColumnDef\", \"edit_action\"], [\"matColumnDef\", \"delete_action\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-button\", \"\", \"color\", \"accent\", \"aria-label\", \"Edit a book\", 3, \"click\"], [\"mat-button\", \"\", \"color\", \"warn\", \"aria-label\", \"Delete a book\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n    template: function BookComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \"Libros presentes en la Biblioteca\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function BookComponent_Template_button_click_2_listener() {\n          return ctx.openBookFormDialog();\n        });\n        i0.ɵɵtext(3, \"Nuevo Libro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 1);\n        i0.ɵɵelementStart(5, \"table\", 2);\n        i0.ɵɵelementContainerStart(6, 3);\n        i0.ɵɵtemplate(7, BookComponent_th_7_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(8, BookComponent_td_8_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(9, 6);\n        i0.ɵɵtemplate(10, BookComponent_th_10_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(11, BookComponent_td_11_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(12, 7);\n        i0.ɵɵtemplate(13, BookComponent_th_13_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(14, BookComponent_td_14_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(15, 8);\n        i0.ɵɵtemplate(16, BookComponent_th_16_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(17, BookComponent_td_17_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(18, 9);\n        i0.ɵɵtemplate(19, BookComponent_th_19_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(20, BookComponent_td_20_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(21, 10);\n        i0.ɵɵtemplate(22, BookComponent_th_22_Template, 2, 0, \"th\", 4);\n        i0.ɵɵtemplate(23, BookComponent_td_23_Template, 2, 1, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(24, 11);\n        i0.ɵɵtemplate(25, BookComponent_th_25_Template, 1, 0, \"th\", 4);\n        i0.ɵɵtemplate(26, BookComponent_td_26_Template, 4, 0, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(27, 12);\n        i0.ɵɵtemplate(28, BookComponent_th_28_Template, 1, 0, \"th\", 4);\n        i0.ɵɵtemplate(29, BookComponent_td_29_Template, 4, 0, \"td\", 5);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(30, BookComponent_tr_30_Template, 1, 0, \"tr\", 13);\n        i0.ɵɵtemplate(31, BookComponent_tr_31_Template, 1, 0, \"tr\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"dataSource\", ctx.books);\n        i0.ɵɵadvance(25);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.columnsToDisplay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.columnsToDisplay);\n      }\n    },\n    directives: [i3.MatButton, i4.MatTable, i4.MatColumnDef, i4.MatHeaderCellDef, i4.MatHeaderCell, i4.MatCellDef, i4.MatCell, i5.MatIcon, i4.MatHeaderRowDef, i4.MatHeaderRow, i4.MatRowDef, i4.MatRow],\n    styles: [\"\"]\n  });\n  return BookComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}